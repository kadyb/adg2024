def haversine(fi1, lambda1, fi2, lambda2, r = 6378):
    import math as m
    
    fi1, lambda1, fi2, lambda2 = m.radians(fi1), m.radians(lambda1), m.radians(fi2), m.radians(lambda2)
    del_fi = fi2 - fi1
    del_lamb = lambda2 - lambda1
    
    li = 1 - m.cos(del_fi) + m.cos(fi1) * m.cos(fi2) * (1 - m.cos(del_lamb))
    d = 2 * r * m.asin(m.sqrt((li) / 2))

    return d

fi1, lambda1 = 52.2297, 21.0122 #Warszawa
fi2, lambda2 = 41.9028, 12.4964 #Rzym

haversine(fi1, lambda1, fi2, lambda2)
