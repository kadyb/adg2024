import math

def haversine(fi1, lambda1, fi2, lambda2, r = 6378):
    
    fi1, lambda1, fi2, lambda2 = math.radians(fi1), math.radians(lambda1), math.radians(fi2), math.radians(fi2)
    del_fi = fi2 - fi1
    del_lamb = lambda2 - lambda1
    
    d = 2*r*math.asin(math.sqrt((1-math.cos(del_fi)+math.cos(fi1)*math.cos(fi2)*(1-math.cos(del_lamb))))/2)

    return d

fi1, lambda1 = 52.2297, 21.0122 #Warszawa
fi2, lambda2 = 41.9028, 12.4964 #Rzym

haversine(fi1, lambda1, fi2, lambda2)
